<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Top Players — Rankings</title>
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <a class="skip-link" href="#main">Aller au contenu</a>

    <header class="site-header">
      <div class="container header-row">
        <div class="brand">
          <div class="brand-mark" aria-hidden="true">⚽</div>
          <div class="brand-text">
            <div class="brand-name">Top Players</div>
            <div class="brand-sub">Classement basé sur stats + bonus</div>
          </div>
        </div>

        <nav class="header-actions" aria-label="Actions">
          <button class="btn btn-ghost" type="button">Méthodologie</button>
          <button class="btn btn-primary" type="button">Exporter CSV</button>
        </nav>
      </div>
    </header>

    <main id="main" class="container">
      <section class="page-head">
        <h1>Classement des meilleurs joueurs</h1>
        <p class="muted">
          Filtre par ligue, saison, poste et minutes. Le score est normalisé sur 100.
        </p>
      </section>

      <section class="grid">
        <!-- Colonne gauche : filtres -->
        <aside class="card" aria-label="Filtres">
          <div class="card-header">
            <h2>Filtres</h2>
            <p class="muted">Ajuste puis clique sur “Actualiser”.</p>
          </div>

          <form class="filters" action="#" method="get" onsubmit="return false;">
            <div class="field">
              <label for="league">Ligue</label>
              <select id="league" name="league">
                <option value="39">Premier League</option>
                <option value="140">LaLiga</option>
                <option value="135">Serie A</option>
                <option value="78">Bundesliga</option>
                <option value="61">Ligue 1</option>
              </select>
            </div>

            <div class="field">
              <label for="season">Saison</label>
              <select id="season" name="season">
                <option value="2021">2021</option>
                <option value="2022">2022</option>
                <option value="2023">2023</option>
                <option value="2024">2024</option>
              </select>
            </div>

            <div class="field">
              <label for="position">Poste</label>
              <select id="position" name="position">
                <option value="ALL">Tous</option>
                <option value="ATT">Attaquant</option>
                <option value="MID">Milieu</option>
                <option value="DEF">Défenseur</option>
                <option value="GK">Gardien</option>
              </select>
            </div>

            <div class="field">
              <label for="minMinutes">Minutes minimum</label>
              <input id="minMinutes" name="minMinutes" type="number" min="0" step="90" value="900" />
              <div class="help">Ex : 900 = 10 matchs complets.</div>
            </div>

            <div class="field">
              <label for="search">Recherche joueur</label>
              <input id="search" name="q" type="search" placeholder="Ex : Messi, Haaland…" />
            </div>

            <div class="field inline">
              <label class="checkbox">
                <input type="checkbox" name="includeTransfers" checked />
                <span>Inclure transferts</span>
              </label>
            </div>

            <div class="actions">
              <button id="refreshBtn" class="btn btn-primary" type="button">Actualiser</button>
              <button class="btn btn-ghost" type="reset">Réinitialiser</button>
            </div>

            <div class="divider" role="separator" aria-hidden="true"></div>

            <div class="mini-stats" aria-label="Résumé">
              <div class="mini-stat">
                <div class="mini-stat-label">Joueurs</div>
                <div id="statCount" class="mini-stat-value">—</div>
              </div>
              <div class="mini-stat">
                <div class="mini-stat-label">Maj cache</div>
                <div id="statCache" class="mini-stat-value">—</div>
              </div>
            </div>
          </form>
        </aside>

        <!-- Colonne droite : table classement -->
        <section class="card" aria-label="Classement">
          <div class="card-header row">
            <div>
              <h2>Classement</h2>
              <p class="muted">Score final (0–100) + métriques clés.</p>
            </div>

            <div class="table-controls">
              <label class="select-sm">
                <span class="sr-only">Trier par</span>
                <select>
                  <option>Score</option>
                  <option>Buts</option>
                  <option>Passes décisives</option>
                </select>
              </label>
              <button class="btn btn-ghost" type="button">Comparer</button>
            </div>
          </div>

          <div class="table-wrap" role="region" aria-label="Tableau de classement" tabindex="0">
            <table class="table">
              <thead>
                <tr>
                  <th scope="col" class="col-rank">#</th>
                  <th scope="col">Joueur</th>
                  <th scope="col" class="col-team">Équipe</th>
                  <th scope="col" class="col-min">Min</th>
                  <th scope="col" class="col-score">Score</th>
                  <th scope="col" class="col-metrics">Métriques clés</th>
                </tr>
              </thead>

              <!-- IMPORTANT : vide, injecté par app.js -->
              <tbody id="rankingBody"></tbody>
            </table>
          </div>

          <!-- Status -->
          <p id="status" class="muted" style="padding: 0 16px 14px;"></p>

          <div class="card-footer">
            <div class="muted">Affichage : dynamique</div>
            <div class="pager" aria-label="Pagination">
              <button class="btn btn-ghost" type="button" disabled>Précédent</button>
              <button class="btn btn-ghost" type="button">Suivant</button>
            </div>
          </div>
        </section>
      </section>

      <footer class="site-footer">
        <div class="muted">
          Données via API-FOOTBALL. Classement calculé localement (pondérations + bonus).
        </div>
      </footer>
    </main>

    <script src="app.js" defer></script>
  </body>
</html>
